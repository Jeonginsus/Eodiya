# GIT 진짜최종.txt



### 1. 기본 브랜치 구조

1.master: 배포용 브랜치

2.develop: 개발용 브랜치(우리가 주로 쓸, 개인작업 완성 단위로 계속 붙이고 함께 공유)

3.feature 브랜치 -> 우리가 원래 개인 이니셜로 쓰려고 했던 것, 가장 기본적인 작업브랜치!

예시) feature/fe/login : 기능 개발/프론트엔드/로그인 이라는 뜻, fe는 front-end의 약자라 합니다

​		  feature/be/signup: 기능 개발/백엔드/회원가입 이라는 뜻 , be는 back-end의 약자입니다

4.fix 브랜치 -> 버그 수정하는 브랜치

예시) fix/fe/mypage: 버그 수정/프론트엔드/마이페이지 라는 뜻

5.docs 브랜치 -> 문서 추가, 수정, 삭제 등의 작업(주로 리드미 작성과 수정인듯)



우린 주로 2(develop), 3(feature) 브랜치를 쓸 것입니다. 



### 2. 기본 작업 구조

**<u>각자 개인작업 때마다 브랜치를 생성하고</u>**

<u>**본인이 생각하는 수정 단위로 커밋을 틈틈히 남기고**</u>

<u>**완성되면 develop 브랜치에 merge하고(머지되면 없어지는 것이 기본!)**</u>

<u>**6명 다같이 pull을 받고**</u>

**<u>다시 개인작업을 이어나가는 것</u>**



이게 기본 틀입니다~



첫 번째로 단계는 개인작업 단위로 위의 구조에 맞게 브랜치를 생성하는 것입니다.

예를 들어 나(프론트엔드, 조은누리)는 이제부터 로그인 작업을 하려고 한다.

```git checkout -b feature/fe/login```

이렇게 -b 옵션으로 브랜치를 생성하고 그와 동시에 생성된 브랜치로 이동합니다.

```git branch feature/fe/login```

```git checkout feature/fe/login```

그러니까 git checkout -b 에서 -b 옵션은 위에 두 줄하고 같은 뜻입니다.



나는 로그인 브랜치를 생성하고 이동했고, 이제 작업을 합니다.

커밋 메세지는 git commit -m '[작업분류]: [작업내용]'으로

예시) ```git commit -m 'feat: 페이지네이션 기능 추가'```

​		  ```git commit -m 'style: 버튼 스타일링'```

​	 	 ```git commit -m 'fix: 팝업 버그 수정'```

​	 	 ```git commit -m 'docs: 리드미 수정'```



작업 분류는 아래와 같습니다.

- feat : 새로운 기능
- fix : 버그 수정
- docs : 문서 (문서 추가, 수정, 삭제)
- style : 포맷팅, 세미콜론 추가, etc) 코드 변화 없을 때
- refactor : 코드 리팩토링
- test : 테스트 추가, 테스트 리팩토링
- setup : 개발환경 변경, etc





...... 열심히 작업중

은눌(은)는 로그인 페이지 작업을 완료했다.!

그러면 이제까지는 커밋만 남겼으니 이 브랜치(feature/fe/login)에 푸시를 해야겠죠

```git config --global push.default current```

이 명령어를 쓰면 push 의 기본 행동으로 현재 있는 브랜치에 push를 합니다. (최초 한 번만 하면 됨)

해당 명령어를 쓴 후

```git push``` 하면 여태까지 작업한 내용이 feature/fe/login 브랜치에 푸시가 완료되었습니다.

깃랩 저장소에도 올라간 상태입니다.





그러면 이제 merge만 남았습니다.

깃랩에 가서 해당 브랜치에 push 된 내용을 확인합니다.



![](.\GIT 진짜최종.txt.assets\1.png)



![](.\GIT 진짜최종.txt.assets\2.png)

잘된 것 같습니다 그럼 병합 요청(merge request) 보내봅시다.



![](.\GIT 진짜최종.txt.assets\3.png)



![](.\GIT 진짜최종.txt.assets\4.png)



**마스터에 요청 보내지 않도록 늘 주의하자(타겟 브랜치는 항상 develop입니다~!)**



![](.\GIT 진짜최종.txt.assets\5.png)





![](.\GIT 진짜최종.txt.assets\6.png)



여기까지 하면 완료된 거고, 같은 파일을 수정하지만 않았다면 충돌없이 합칠 수 있습니다.

머지리퀘스트 보낸 후에는 저에게 말씀하시면 되고, 프론트/백에서 각각 코드리뷰 후에 최종 병합합니다.



머지가 완료되었다! 은누리가 만든 feature/fe/login 브랜치가 develop 브랜치와 합쳐지고 feature/fe/login 브랜치는 없어진 상황입니다



이제 나머지 팀원들은 최신 상태인 develop을 본인 로컬 develop 브랜치에 가져와야(통일시켜야) 합니다.

그 전에 중요한 건 내가 지금까지 작업하던 내용을 임시 저장부터 해야합니다~~!!!

예를 들어 순일이는 feature/be/comments에서 작업 중이었습니다. 그러면

```git add .```

```git commit -m 'save'```

지금까지 한 내용을 커밋했다. 이제 내 로컬 develop 과 작업중이던 브랜치에 은눌이 올린 login 을 받아옵시다.

```git checkout develop```

```git pull```

그리고 내가 작업 중인 브랜치에도 가져와야 합니다.

호정이는 예를 들어 feature/fe/main 에 있었습니다. 그러면

```git checkout feature/fe/main```

```git pull```

이러면 내 로컬 develop 브랜치와 내가 작업 중인 브랜치에 은눌이 작업한 내용이 모두 반영되었으니 마저 작업을 하면 됩니다!

은눌은 처음과 마찬가지로 다음 작업하려는 페이지로 새로 브랜치를 만들어서 또 반복하면 됩니다.





### 3. 충돌 났을 시

충돌이 나면 기본적으로 어떤 코드를 선택할지 정하고(둘 다 쓰거나), 

변경 후 작업하던 브랜치를 들어가서 git pull을 하고 다시 develop에 푸시하면 됩니다.

이 부분은 에러나고 해결할 때마다 계속 추가할게여





### 4. 지금 해야하는 것!!

우린 현재 develop, master와 개인 이니셜 브랜치*6개가 있습니다.

깃 작업 구조를 바꿔야 하기 때문에 개인 이니셜 브랜치를 없애야 하겠죠

예를 들어 현재 호정이는 메인피드 css 작업 중입니다.(jhj 브랜치에서) 

새로운 컨벤션에 따르면 원래 feature/fe/main 브랜치에서 작업 중이여야 하겠죠?



그래서 호정이는 우선 최신 develop이 맞는지 확인하고 아니면 pull 받고,

```git checkout -b feature/fe/main```  명령어를 통해서 feature/fe/main 브랜치를 생성+이동하고,

jhj 브랜치에서 오늘 오전에 작업한 내용을 가져와서 붙입니다.(다른 방법이 생각이 안나서 안전하게 아날로그로 갑니다...)



그러고 나서 develop 브랜치 이동 후 이니셜 브랜치(jhj)를 없애는데 없애는 명령어는 

```git branch -d jhj```

입니다. 만약 이 브랜치에는 병합 안한 커밋이 있어서 삭제할 수 없다 등의 에러가 나는 경우에는 

```git branch -D jhj``` 

이 명령어로 강제삭제합니다.



삭제 후 feature/fe/main 으로 가서 다시 작업하면 됩니다. 끝!

